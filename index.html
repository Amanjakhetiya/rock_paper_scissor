<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css"></link>
</head>
<body>
    <div class="header">ROCK PAPER SCISSOR!</div>
    <div class="buttons">
        <button id="rock" value="rock">Rock</button>
    <button id="paper" value="paper">Paper</button>
    <button id="scissor" value="scissor">Scissor</button>
    </div>
    
    <div class="result"></div>
    <script>

        const moves = ["rock","paper","scissor"];

        btn = document.querySelectorAll('button');
        btn = Array.from(btn);

        btn.forEach((b) => b.addEventListener('click',game));

        // let final_computer=0;
        // let final_mankind=0;
        let playerScore=0,computerScore=0;

        let div= document.querySelector('.result');

        function playRound(playerMove,computerSelection)
        {
            // console.log(e);
            
            let convertedSelection = playerMove;
            
            


            if(convertedSelection===computerSelection) return 0;

            else if(convertedSelection==="paper" && computerSelection==="rock") return 1;

            else if(convertedSelection==="paper" && computerSelection==="scissor") return 2;

            else if(convertedSelection==="rock" && computerSelection==="paper") return 2;

            else if(convertedSelection==="rock" && computerSelection==="scissor") return 1;

            else if(convertedSelection==="scissor" && computerSelection==="paper") return 1;

            else if(convertedSelection==="scissor" && computerSelection==="rock") return 2;

            else return 3;
        }

        
        function computerPlay()
        {
            let randomIndex = Math.floor(Math.random()*3);
            return moves[randomIndex];
        }
        

        function game(e)
        {
            
           
            
            
               
           
                let playerMove = e.target.value;
                // console.log(typeof playerMove);
                let computerMove = computerPlay();

                let result = playRound(playerMove,computerMove);
                if(result===0)
                {
                    div.textContent = "Its a Tie!";
                }

                else if(result===1)
                {
                    div.textContent = `You Won! ${playerMove} beats ${computerMove}`;
                    playerScore++;
                }

                else if(result==2)
                {
                    div.textContent = `You Lose! ${computerMove} beats ${playerMove}`;
                    computerScore++;

                }

                // else
                // {
                    

                // }
              
            

            
            // if(playerScore>computerScore)
            // {
            //     div.textContent = "Player Won!!";
            //     final_computer++;
            // }
            // else if(playerScore<computerScore)
            // {
            //     div.textContent = "Computer Won!!";
            //     final_mankind++;
            // }
            // else
            // {
            //     div.textContent = "Its a Tie!!";
                

            // }

            // if(computerScore==5 || playerScore==5)
            //      break;

            if(computerScore==5) div.textContent = "Computer";
        else if(playerScore==5)div.textContent = "Player";

           
        }

      

       

      // game();
        // console.log(computerPlay());
        // console.log(playRound(playerMove,computerPlay()));

    </script>
    
</body>
</html>